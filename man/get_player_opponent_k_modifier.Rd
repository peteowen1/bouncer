% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/player_elo_dynamic.R
\name{get_player_opponent_k_modifier}
\alias{get_player_opponent_k_modifier}
\title{Get Opponent Strength K-Factor Modifier}
\usage{
get_player_opponent_k_modifier(
  player_elo,
  opponent_elo,
  player_won,
  opponent_team_elo = NULL,
  avg_elo = 1500,
  team_weight = 0.7
)
}
\arguments{
\item{player_elo}{Numeric. The player's current ELO.}

\item{opponent_elo}{Numeric. The opponent's current ELO.}

\item{player_won}{Logical. Whether this delivery outcome favored the player.
For batters: TRUE if scored runs (not out). For bowlers: TRUE if got wicket.}

\item{opponent_team_elo}{Numeric or NULL. The opponent's team ELO (optional).
When provided, blended with opponent player ELO for more accurate strength.}

\item{avg_elo}{Numeric. The average ELO (default 1500) for reference.}

\item{team_weight}{Numeric. Weight for team ELO in blend (default 0.7).}
}
\value{
Numeric. A K-factor multiplier (typically 0.5 to 1.5).
}
\description{
Calculates a K-factor modifier based on opponent strength.
\itemize{
\item Beating a strong opponent (high ELO) boosts your K-factor (bigger gain)
\item Losing to a weak opponent (low ELO) increases your penalty
\item Beating a weak opponent or losing to a strong one has reduced effect
}
}
\details{
This prevents ELO inflation when weak players only face weak opponents.

When opponent_team_elo is provided, the opponent strength is calculated as
a blend of individual player ELO (30\%) and team ELO (70\%). Team ELO is more
reliable because it's anchored through cross-league matches.
}
\examples{
# Batter scores against a 1700 ELO bowler (strong opponent) - boosted gain
get_player_opponent_k_modifier(1500, 1700, player_won = TRUE)  # 1.2

# Batter scores against a 1100 ELO bowler (weak opponent) - reduced gain
get_player_opponent_k_modifier(1500, 1100, player_won = TRUE)  # 0.6

# Batter scores against 1500 bowler from 1350 team - weak team reduces gain
get_player_opponent_k_modifier(1500, 1500, player_won = TRUE,
                                opponent_team_elo = 1350)  # ~0.74
}
