% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/margin_calculation.R
\name{calculate_unified_margin}
\alias{calculate_unified_margin}
\title{Calculate Unified Margin}
\usage{
calculate_unified_margin(
  team1_score,
  team2_score,
  balls_remaining = 0,
  wickets_remaining = 0,
  win_type = "runs",
  format = "t20",
  super_over_margin = NULL,
  use_advanced_projection = FALSE,
  gender = "male",
  team_type = "international"
)
}
\arguments{
\item{team1_score}{Integer. Team 1's total (batting first or only innings)}

\item{team2_score}{Integer. Team 2's total when match ended}

\item{balls_remaining}{Integer. Balls remaining when match ended (0 for runs wins)}

\item{wickets_remaining}{Integer. Wickets in hand when match ended (0 for runs wins)}

\item{win_type}{Character. "runs", "wickets", "tie", or "draw"}

\item{format}{Character. Match format}

\item{super_over_margin}{Integer. If match had Super Over, the run difference (optional)}

\item{use_advanced_projection}{Logical. If TRUE, uses the optimized score projection
formula. If FALSE (default), uses simple resource-based projection.}

\item{gender}{Character. "male" or "female" (for advanced projection).}

\item{team_type}{Character. "international" or "club" (for advanced projection).}
}
\value{
Numeric. Unified margin in runs-equivalent.
Positive = team1 won, Negative = team2 won, 0 = tie/draw
}
\description{
Converts all match outcomes to a runs-equivalent margin.
Positive margin = team1 won, negative margin = team2 won.
}
\details{
For runs wins: margin = team1_score - team2_score
For wickets wins: project team2's final score, then calculate difference
}
\examples{
# Team 1 won by 20 runs
calculate_unified_margin(180, 160, 0, 0, "runs", "t20")

# Team 2 won by 6 wickets with 12 balls (2 overs) left
calculate_unified_margin(160, 165, 12, 6, "wickets", "t20")

# Using advanced projection
calculate_unified_margin(160, 165, 12, 6, "wickets", "t20",
                         use_advanced_projection = TRUE, gender = "male", team_type = "club")

# Tie
calculate_unified_margin(160, 160, 0, 0, "tie", "t20")
}
