% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/win_probability_added.R
\name{calculate_delivery_era}
\alias{calculate_delivery_era}
\title{Calculate Expected Runs Added (ERA) for Deliveries}
\usage{
calculate_delivery_era(deliveries, stage1_model, stage1_feature_cols)
}
\arguments{
\item{deliveries}{data.frame with delivery data}

\item{stage1_model}{XGBoost model for projected score}

\item{stage1_feature_cols}{Character vector of Stage 1 feature column names}
}
\value{
data.frame with additional columns:
\itemize{
\item expected_runs: Expected runs for this delivery situation
\item era: Expected Runs Added (actual - expected)
\item batter_era: ERA credited to batter
\item bowler_era: ERA credited to bowler
}
}
\description{
Calculates how many runs were scored above/below expectation based on
the match situation. Uses Stage 1 model to derive expected runs.
}
\keyword{internal}
