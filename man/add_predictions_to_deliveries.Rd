% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/model_predictions.R
\name{add_predictions_to_deliveries}
\alias{add_predictions_to_deliveries}
\title{Add Model Predictions to Deliveries Table}
\usage{
add_predictions_to_deliveries(
  model_path,
  model_type = c("bam", "xgb"),
  format = c("shortform", "longform"),
  column_prefix = NULL,
  db_path = NULL,
  match_limit = NULL,
  batch_size = 10000
)
}
\arguments{
\item{model_path}{Character. Path to the saved model file (.rds for BAM, .json for XGBoost)}

\item{model_type}{Character. Either "bam" or "xgb"}

\item{format}{Character. Either "shortform" (T20/ODI) or "longform" (Test)}

\item{column_prefix}{Character. Prefix for prediction columns (default: "pred_bam" or "pred_xgb")}

\item{db_path}{Character. Path to DuckDB database (default: use package default)}

\item{match_limit}{Integer. Limit number of matches to process (default: NULL = all)}

\item{batch_size}{Integer. Number of deliveries to process per batch (default: 10000)}
}
\value{
Invisible NULL. Modifies database in place.
}
\description{
Adds prediction columns to the deliveries table for a trained outcome model.
Creates 7 probability columns (one per outcome category) with customizable prefix.
}
\details{
For each delivery, adds 7 columns with prediction probabilities:
\itemize{
\item {prefix}_wicket: P(wicket)
\item {prefix}_0: P(0 runs)
\item {prefix}_1: P(1 run)
\item {prefix}_2: P(2 runs)
\item {prefix}_3: P(3 runs)
\item {prefix}_4: P(4 runs)
\item {prefix}_6: P(6 runs)
}
}
\keyword{internal}
