% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/three_way_elo.R
\name{calculate_league_baseline}
\alias{calculate_league_baseline}
\title{Calculate League-Adjusted Expected Runs Baseline}
\usage{
calculate_league_baseline(
  league_avg_runs,
  league_deliveries,
  global_avg_runs,
  blend_halflife = LEAGUE_BASELINE_BLEND_HALFLIFE
)
}
\arguments{
\item{league_avg_runs}{Numeric. The league's historical average runs per delivery.
If NULL or NA, returns the global average.}

\item{league_deliveries}{Integer. Number of deliveries in this league so far.}

\item{global_avg_runs}{Numeric. The global format average runs per delivery.}

\item{blend_halflife}{Integer. Deliveries until 50\% weight on league average.
Default uses LEAGUE_BASELINE_BLEND_HALFLIFE constant (5000).}
}
\value{
Numeric. The blended expected runs baseline.
}
\description{
Blends the league's historical average runs per delivery with the global
format average based on sample size. This prevents ELO inflation in
high-scoring leagues and unfair penalties in low-scoring leagues.
}
\details{
Formula: baseline = w * league_avg + (1-w) * global_avg
Where:   w = league_deliveries / (league_deliveries + HALFLIFE)
}
\examples{
\dontrun{
# New league (500 deliveries, avg 1.35) with global 1.28
calculate_league_baseline(1.35, 500, 1.28)   # ~1.286 (9\% league weight)

# Established IPL (20000 deliveries, avg 1.35)
calculate_league_baseline(1.35, 20000, 1.28) # ~1.336 (80\% league weight)

# No league data yet
calculate_league_baseline(NA, 0, 1.28)       # 1.28 (global average)
}

}
\keyword{internal}
