% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/centrality_history.R
\name{ensure_centrality_history_table}
\alias{ensure_centrality_history_table}
\title{Ensure Centrality History Table Exists}
\usage{
ensure_centrality_history_table(format, conn, gender = NULL)
}
\arguments{
\item{format}{Character. Match format: "t20", "odi", or "test".}

\item{conn}{DBI connection to the database.}

\item{gender}{Character. Gender category: "mens" or "womens". Default NULL for
backwards compatibility (uses format-only table name).}
}
\value{
Invisibly returns TRUE.
}
\description{
Creates the dated centrality snapshot table for a format/gender if it doesn't exist.
This table stores historical centrality snapshots that can be looked up by date
to prevent data leakage during ELO calculation.
}
\details{
The table includes additional columns for network analysis:
\itemize{
\item centrality: The Opsahl weighted degree centrality score
\item unique_opponents: Number of unique opponents faced
\item avg_opponent_degree: Average degree of those opponents
}
}
