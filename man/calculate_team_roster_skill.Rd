% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/team_elo.R
\name{calculate_team_roster_skill}
\alias{calculate_team_roster_skill}
\title{Calculate Team Roster Skill Indices}
\usage{
calculate_team_roster_skill(
  team,
  as_of_date,
  conn,
  format = NULL,
  match_type = NULL,
  event_name = NULL,
  min_balls = 30
)
}
\arguments{
\item{team}{Character. Team name}

\item{as_of_date}{Date. Date to calculate skills for (uses data before this date)}

\item{conn}{DBI connection. Database connection}

\item{format}{Character. Format: "t20", "odi", or "test". Default "t20".}

\item{match_type}{Character. Filter by match type (optional)}

\item{event_name}{Character. Filter by event name (optional)}

\item{min_balls}{Integer. Minimum balls for reliable skill index. Default 30.}
}
\value{
List with aggregated skill indices:
\itemize{
\item batter_scoring_avg: Average BSI (runs/ball) for batters
\item batter_scoring_top5: Average BSI for top 5 batters
\item batter_survival_avg: Average survival rate for batters
\item bowler_economy_avg: Average economy index for bowlers
\item bowler_economy_top5: Average economy for top 5 bowlers (lower = better)
\item bowler_strike_avg: Average strike rate (wickets/ball) for bowlers
\item n_batters: Number of batters with skill data
\item n_bowlers: Number of bowlers with skill data
}
}
\description{
Calculates team strength by aggregating player skill indices from the likely XI.
Uses the t20_player_skill table for EMA-based, drift-proof skill measures.
}
\examples{
\dontrun{
conn <- get_db_connection()
skills <- calculate_team_roster_skill(
  "Mumbai Indians",
  as.Date("2024-04-01"),
  conn,
  event_name = "Indian Premier League"
)
}
}
