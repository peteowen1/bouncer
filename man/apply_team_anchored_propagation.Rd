% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/player_correlation.R
\name{apply_team_anchored_propagation}
\alias{apply_team_anchored_propagation}
\title{Apply Team-Anchored Propagation to Player ELOs}
\usage{
apply_team_anchored_propagation(
  player_elos,
  team_elos,
  player_teams,
  propagation_factor = 0.2,
  min_players = 3,
  gap_threshold = 50,
  elo_type = "run"
)
}
\arguments{
\item{player_elos}{Named list with run_elo and wicket_elo for each player.}

\item{team_elos}{Named numeric vector. Team ELOs keyed by team name.}

\item{player_teams}{Named character vector. Maps player_id to their most recent team.}

\item{propagation_factor}{Numeric. How much to adjust (default 0.2).
An adjustment of gap * 0.2 means 20\% of the gap is corrected.}

\item{min_players}{Integer. Minimum players per team to apply (default 3).}

\item{gap_threshold}{Numeric. Minimum gap to trigger adjustment (default 50).}

\item{elo_type}{Character. "run" or "wicket" to select which ELO to adjust.}
}
\value{
Updated player_elos list.
}
\description{
Uses team ELO as an anchor for player ELOs. When a team's average player ELO
diverges too far from the team's actual ELO (from team_elo table), this function
pulls players back toward the team-implied level.
}
\details{
This addresses the isolated pool problem: if NZ domestic teams have team ELO
of 1350 but their players average 1600, the players are likely inflated and
should be pulled down.
}
\examples{
# If NZ domestic team has team_elo = 1350 and avg player ELO = 1600
# Gap = 250, adjustment = -250 * 0.2 = -50 points per player
}
