% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulation.R
\name{simulate_delivery}
\alias{simulate_delivery}
\title{Simulate Single Delivery}
\usage{
simulate_delivery(
  model,
  match_state,
  player_skills,
  team_skills,
  venue_skills,
  mode = c("categorical", "expected")
)
}
\arguments{
\item{model}{XGBoost model from load_full_model()}

\item{match_state}{List containing current match state:
\itemize{
\item format: "t20", "odi", or "test"
\item innings: 1 or 2
\item over: current over (0-indexed)
\item ball: ball within over (1-6)
\item wickets_fallen: wickets lost so far
\item runs_scored: runs scored so far in innings
\item target: target to chase (innings 2 only, NULL for innings 1)
\item gender: "male" or "female"
\item is_knockout: 0 or 1
\item event_tier: 1, 2, or 3
}}

\item{player_skills}{List with batter and bowler skills:
\itemize{
\item batter_scoring_index, batter_survival_rate, batter_balls_faced
\item bowler_economy_index, bowler_strike_rate, bowler_balls_bowled
}}

\item{team_skills}{List with team skills:
\itemize{
\item batting_team_runs_skill, batting_team_wicket_skill
\item bowling_team_runs_skill, bowling_team_wicket_skill
}}

\item{venue_skills}{List with venue skills:
\itemize{
\item venue_run_rate, venue_wicket_rate, venue_boundary_rate, venue_dot_rate
}}

\item{mode}{Character. "categorical" (draw outcome) or "expected" (use expected runs)}
}
\value{
List with outcome details:
\itemize{
\item runs: runs scored (0-6, or fractional if mode = "expected")
\item is_wicket: TRUE if wicket fell
\item probs: 7-class probability vector (if categorical mode)
}
}
\description{
Simulates a single delivery outcome using the full prediction model.
}
\examples{
\dontrun{
model <- load_full_model("shortform")
state <- list(format = "t20", innings = 1, over = 5, ball = 3,
              wickets_fallen = 1, runs_scored = 42)
player <- list(batter_scoring_index = 1.3, batter_survival_rate = 0.97,
               bowler_economy_index = 1.2, bowler_strike_rate = 0.03)
team <- list(batting_team_runs_skill = 0.05, batting_team_wicket_skill = 0,
             bowling_team_runs_skill = -0.02, bowling_team_wicket_skill = 0)
venue <- list(venue_run_rate = 0, venue_wicket_rate = 0,
              venue_boundary_rate = 0.15, venue_dot_rate = 0.35)
result <- simulate_delivery(model, state, player, team, venue)
}

}
\seealso{
\code{\link{simulate_innings}} to simulate a full innings,
\code{\link{simulate_match_ballbyball}} to simulate a full match,
\code{\link{load_full_model}} to load the prediction model
}
