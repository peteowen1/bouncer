% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/agnostic_model.R
\name{calculate_agnostic_residuals}
\alias{calculate_agnostic_residuals}
\title{Calculate Skill Residual from Agnostic Model}
\usage{
calculate_agnostic_residuals(
  model,
  delivery_data,
  format = c("t20", "odi", "test")
)
}
\arguments{
\item{model}{XGBoost model object from load_agnostic_model()}

\item{delivery_data}{Data frame with deliveries. Must include:
\itemize{
\item runs_batter or runs_total: actual runs scored
\item is_wicket: whether a wicket fell (logical or 0/1)
\item All features required by predict_agnostic_outcome()
}}

\item{format}{Character. Format type: "t20", "odi", or "test"}
}
\value{
Data frame with columns:
\itemize{
\item exp_runs_agnostic: Expected runs from agnostic model
\item exp_wicket_agnostic: Expected wicket probability from agnostic model
\item runs_residual: actual_runs - exp_runs_agnostic
\item wicket_residual: is_wicket - exp_wicket_agnostic
}
}
\description{
Calculates the residual (actual - expected) for each delivery,
which is used to update skill indices.
}
\keyword{internal}
