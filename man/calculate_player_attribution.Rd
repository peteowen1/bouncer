% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/player_attribution.R
\name{calculate_player_attribution}
\alias{calculate_player_attribution}
\title{Calculate Player Attribution}
\usage{
calculate_player_attribution(
  model,
  delivery_data,
  format = c("t20", "odi", "test")
)
}
\arguments{
\item{model}{XGBoost model from load_full_model()}

\item{delivery_data}{Data frame with delivery data including all skill features}

\item{format}{Character. Format: "t20", "odi", or "test"}
}
\value{
Data frame with original data plus contribution columns:
\itemize{
\item batter_contribution: runs contribution from batter skills
\item bowler_contribution: runs contribution from bowler skills
\item team_contribution: runs contribution from team skills
\item venue_contribution: runs contribution from venue skills
\item context_baseline: expected runs from context alone
}
}
\description{
Calculates individual player contributions to predicted runs/wickets
using zero-ablation.
}
\examples{
\dontrun{
model <- load_full_model("t20")
contributions <- calculate_player_attribution(model, deliveries, "t20")

# Aggregate batter contributions
batter_summary <- contributions \%>\%
  group_by(batter) \%>\%
  summarise(
    total_contribution = sum(batter_contribution),
    avg_contribution = mean(batter_contribution),
    n_deliveries = n()
  )
}
}
